<ons-page id="settings-timers-page">
    <ons-dialog id="add-timer-dialog">
            <div style="text-align: left; padding: 10px;">
                <form id="add-timer-form">
                    <!--Date-->
                    <p>Select the date the timer should be triggered on.<br/><i>Empty means any month/day.</i></p>
                    <ons-row>
                        <ons-col width="100px" align="center">Month</ons-col>
                        <ons-col><ons-input type="number" placeholder="*" min="1" max="12" name="month"></ons-input></ons-col>
                    </ons-row>
                    <ons-row>
                        <ons-col width="100px" align="center">Day</ons-col>
                        <ons-col><ons-input type="number" placeholder="*" min="1" max="31" name="day"></ons-input></ons-col>
                    </ons-row>
                    <hr/>
                    <!--Time-->
                    <p>Select the time the timer should be triggered on.<br/><i>Empty means any hour/minute.</i></p>
                    <ons-row>
                        <ons-col width="100px" align="center">Hour</ons-col>
                        <ons-col><ons-input type="number" placeholder="*" min="0" max="23" name="hour"></ons-input></ons-col>
                    </ons-row>
                    <ons-row>
                        <ons-col width="100px" align="center">Minute</ons-col>
                        <ons-col><ons-input type="number" placeholder="*" min="0" max="59" name="minute"></ons-input></ons-col>
                    </ons-row>
                    <hr/>
                    <!--Days-->
                    <p>Select the days the timer should be triggered on.<br/><i>Empty means any day.</i></p>
                    <ons-row>
                        <ons-col width="100px">Days</ons-col>
                        <ons-col style="padding-bottom:10px;">
                            <ons-checkbox name="days" value="1" input-id="timer_mo"></ons-checkbox>
                            <label for="timer_mo" class="center">Monday</label>
                        </ons-col>
                    </ons-row>
                    <ons-row>
                        <ons-col width="100px"></ons-col>
                        <ons-col style="padding-bottom:10px;">
                            <ons-checkbox name="days" value="2" input-id="timer_tue"></ons-checkbox>
                            <label for="timer_tue" class="center">Tuesday</label>
                        </ons-col>
                    </ons-row>
                    <ons-row>
                        <ons-col width="100px"></ons-col>
                        <ons-col style="padding-bottom:10px;">
                            <ons-checkbox name="days" value="3" input-id="timer_wed"></ons-checkbox>
                            <label for="timer_wed" class="center">Wednesday</label>
                        </ons-col>
                    </ons-row>
                    <ons-row>
                        <ons-col width="100px"></ons-col>
                        <ons-col style="padding-bottom:10px;">
                            <ons-checkbox name="days" value="4" input-id="timer_thu"></ons-checkbox>
                            <label for="timer_thu" class="center">Thursday</label>
                        </ons-col>
                    </ons-row>
                    <ons-row>
                        <ons-col width="100px"></ons-col>
                        <ons-col style="padding-bottom:10px;">
                            <ons-checkbox name="days" value="5" input-id="timer_fri"></ons-checkbox>
                            <label for="timer_fri" class="center">Friday</label>
                        </ons-col>
                    </ons-row>
                    <ons-row>
                        <ons-col width="100px"></ons-col>
                        <ons-col style="padding-bottom:10px;">
                            <ons-checkbox name="days" value="6" input-id="timer_sat"></ons-checkbox>
                            <label for="timer_sat" class="center">Saturday</label>
                        </ons-col>
                    </ons-row>
                    <ons-row>
                        <ons-col width="100px"></ons-col>
                        <ons-col style="padding-bottom:10px;">
                            <ons-checkbox name="days" value="0" input-id="timer_sun"></ons-checkbox>
                            <label for="timer_sun" class="center">Sunday</label>
                        </ons-col>
                    </ons-row>
                    <div style="text-align: center" class="content-padded" ng-controller="ButtonsController">
                            <ons-button onclick="hideNewTimerDialog()">Cancel</ons-button>
                            <ons-button onclick="addNewTimer()">Save</ons-button>
                    </div>
                </form>
            </div>
        </ons-dialog>
        <ons-dialog id="edit-dnd-timer-dialog">
            <div style="text-align: left; padding: 10px;">
                <form id="edit-dnd-form">
                    <ons-row>
                        <ons-col width="100px" align="center">Start Hour</ons-col>
                        <ons-col><ons-input placeholder="?" type="number" min="0" max="24" name="start_hour" required ></ons-input></ons-col>
                        <ons-col width="100px" align="center">Start Minute</ons-col>
                        <ons-col><ons-input placeholder="?" type="number" min="0" max="59" name="start_minute" required ></ons-input></ons-col>
                    </ons-row>
                    <ons-row>
                        <ons-col width="100px" align="center">End Hour</ons-col>
                        <ons-col><ons-input placeholder="?" type="number" min="0" max="24" name="end_hour" required ></ons-input></ons-col>
                        <ons-col width="100px" align="center">End Minute</ons-col>
                        <ons-col><ons-input placeholder="?" type="number" min="0" max="59" name="end_minute" required ></ons-input></ons-col>
                    </ons-row>
                    <div style="text-align: center" class="content-padded" ng-controller="ButtonsController">
                            <ons-button onclick="hideDndTimerDialog()">Cancel</ons-button>
                            <ons-button onclick="saveDndTimer()">Save</ons-button>
                            <!--<input class="button" type="submit" onclick="saveDndTimer()" value="Save">-->
                    </div>
                </form>
            </div>
        </ons-dialog>
        <ons-dialog id="edit-timezone-dialog">
                <div style="text-align: left; padding: 10px;">
                    <form id="edit-timezone-form">
                        Your current timezone is set to:<br/>
                        <ons-select select-id="timezone-selection"><!-- will be filled dynamically --></ons-select><br/><br/>
                        <div style="text-align: center" class="content-padded" ng-controller="ButtonsController">
                                <ons-button onclick="hideTimeZoneDialog()">Close</ons-button>
                                <ons-button onclick="saveTimeZone()">Save</ons-button>
                                <!--<input class="button" type="submit" onclick="saveDndTimer()" value="Save">-->
                        </div>
                    </form>
                </div>
            </ons-dialog>
    <ons-toolbar>
        <div class="left">
            <ons-back-button>Settings</ons-back-button>
        </div>
        <div class="center">Timers</div>
        <div class="right">
            <ons-toolbar-button id="settings-timers-timezone" onclick="showTimeZoneDialog();">
                <ons-icon icon="fa-cog"></ons-icon>
            </ons-toolbar-button>
        </div>
    </ons-toolbar>
    <ons-progress-bar id="loading-bar-settings-timers" value="0" indeterminate="indeterminate"></ons-progress-bar>

    <ons-list-title style="margin-top:5px;">
        Cleaning - Timers <ons-toolbar-button id="settings-timers-create-new-timer" onclick="showAddTimerDialog(-1);"><ons-icon icon="fa-plus"></ons-icon></ons-toolbar-button></div>
    </ons-list-title>
    <ons-list id="settings-timers-timer-list"></ons-list>

    <ons-list-title style="margin-top:5px;">"Do Not Disturb" - Timer</ons-list-title>
    <ons-list id="settings-dnd-timer-list"></ons-list>

    <script>
      {
        let s = document.createElement('script');
        s.src = "settings-timers.js";
        s.type = "module";
        ons.getScriptPage().appendChild(s);

        ons.getScriptPage().onShow = function() {
            updateSettingsTimersPage();
            updateDndTimerPage();
        };
      }
    </script>
    <style>
        .timer-delete {
            margin-left: 12px;
            font-size: 2em;
            color: #eb5959;
        }
    </style>
</ons-page>
