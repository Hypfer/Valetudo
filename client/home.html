<ons-page>
    <ons-progress-bar id="loading-bar-home" value="0" indeterminate="indeterminate"></ons-progress-bar>
    <section>
        <p id="robot-state">
            Loading state...!
        </p>
        <div style="width:100%; text-align:center;">
            <p id="robot-state-details">
                <span id="robot-state-details-m2" hidden="true">Area: ???.?? mÂ²</span>
                <span id="robot-state-details-time" hidden="true">Time: ??:??:??</span>
            </p>
        </div>
    </section>
    <hr style="width:98%; opacity: 0.3">

    <section id="robot-control-buttons">
        <ons-button id="start-button" disabled="disabled" class="button-margin" onclick="handleControlButton('start')" style="width:40%"><ons-icon icon="fa-play"></ons-icon> Start</ons-button>
        <ons-button id="pause-button" disabled="disabled" class="button-margin" onclick="handleControlButton('pause')" style="width:40%"><ons-icon icon="fa-pause"></ons-icon> Pause</ons-button>
        <br>
        <ons-button id="stop-button" disabled="disabled" class="button-margin" onclick="handleControlButton('stop')" style="width:40%"><ons-icon icon="fa-stop"></ons-icon> Stop</ons-button>
        <ons-button id="home-button" disabled="disabled" class="button-margin" onclick="handleControlButton('home')" style="width:40%"><ons-icon icon="fa-home"></ons-icon> Home</ons-button>
        <br>
        <ons-button id="spot-button" disabled="disabled" class="button-margin" onclick="handleControlButton('spot')" style="width:40%"><ons-icon icon="fa-caret-down"></ons-icon> Spot</ons-button>
        <ons-button id="find-robot-button" disabled="disabled" class="button-margin" onclick="handleControlButton('find')" style="width:40%"><ons-icon icon="fa-map-marker"></ons-icon> Find</ons-button>
        <br>
        <ons-button id="go-to-button" disabled="disabled" class="button-margin" onclick="handleGoToButton()" disabled style="width:40%"><ons-icon icon="fa-map-signs"></ons-icon> Go to </ons-button>
        <ons-button id="area-button" disabled="disabled" class="button-margin" onclick="handleZonesButton()" disabled style="width:40%"><ons-icon icon="fa-map"></ons-icon> Zones </ons-button>
        <ons-button id="segments-button" disabled="disabled" class="button-margin" onclick="handleSegmentsButton()" disabled style="width:40%"><ons-icon icon="fa-object-ungroup"></ons-icon> Segments </ons-button>
        <br>
        <ons-button id="fanspeed-button" disabled="disabled" class="button-margin" onclick="handleFanspeedButton()" disabled style="width:40%"><ons-icon icon="fa-superpowers"></ons-icon> Unknown power</ons-button>
        <ons-button id="watergrade-button" disabled="disabled" class="button-margin" onclick="handleWaterGradeButton()" disabled style="width:40%; display:none;"><ons-icon icon="fa-tint"></ons-icon> Unknown Water Grade</ons-button>
    </section>
    <hr style="width:98%; opacity: 0.3">

    <section style="margin: 10px 16px">
        <p id="battery-status-text">
            Battery: ??%
        </p>

        <p>
            <ons-progress-bar id="battery-status-bar" secondary-value="100"></ons-progress-bar>
        </p>
    </section>


    <script>
      {
        let s = document.createElement('script');
        s.src = "home.js";
        s.type = "module";
        s.crossOrigin = "use-credentials";
        ons.getScriptPage().appendChild(s);
        s.onreadystatechange = s.onload = () => { window.homeInit(); };
        ons.getScriptPage().onShow = function() {
            if (window.homeInit) {
                window.homeInit();
            }
        };

        ons.getScriptPage().onHide = function() {
            window.homeHide();
        };
      }
    </script>
    <style>
        #robot-state {
            text-align: center;
            font-size: 1.2em;
            font-weight: 500;
            text-transform: capitalize;
        }

        .robot-error {
            color: #eb5959;
            display: block;
        }

        #robot-control-buttons {
            text-align: center;
        }

            #robot-control-buttons > ons-button {
                margin: 5px;
                font-size: 1.2em;
            }

        #robot-state-details-m2 {
            margin-right: 5%;
        }

        #robot-state-details-time {
            text-align: right;
        }

        #fanspeed-button, #watergrade-button, .action-sheet-button {
            text-transform: capitalize;
        }
    </style>

</ons-page>
