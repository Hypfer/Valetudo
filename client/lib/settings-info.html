<ons-page id="settings-info-page">
    <ons-toolbar>
        <div class="left">
            <ons-back-button>Settings</ons-back-button>
        </div>
        <div class="center">Info</div>
        <div class="right">
        </div>
    </ons-toolbar>
    <ons-progress-bar id="loading-bar-settings-info" value="0" indeterminate="indeterminate"></ons-progress-bar>

    <ons-list-title style="margin-top:5px;">System</ons-list-title>
    <ons-list>
        <ons-list-item>
            <div class="left">
                Device Manufacturer:
            </div>
            <div class="right" id="info_device_model_manufacturer">
                ???
            </div>
        </ons-list-item>
        <ons-list-item>
            <div class="left">
                Device Model:
            </div>
            <div class="right" id="info_device_model_name">
                ???
            </div>
        </ons-list-item>
        <ons-list-item>
            <div class="left">
                Valetudo Device Implementation:
            </div>
            <div class="right" id="info_device_valetudo_implementation">
                ???
            </div>
        </ons-list-item>


        <!--
        <ons-list-item>
            <div class="left">
                Firmware version:
            </div>
            <div class="right" id="info_fw_version">
                ???
            </div>
        </ons-list-item>
        <ons-list-item>
            <div class="left">
                Timezone:
            </div>
            <div class="right" id="info_timezone">
                ???
            </div>
        </ons-list-item> -->
    </ons-list>
    <ons-list-title style="margin-top:5px;">Valetudo</ons-list-title>
    <ons-list>
        <ons-list-item>
            <div class="left">
                Running Valetudo version:
            </div>
            <div class="right" id="info_valetudo_version">
                ???
            </div>
        </ons-list-item>
        <ons-list-item>
            <div class="left">
                Running commit id:
            </div>
            <div class="right" id="info_valetudo_commit">
                ???
            </div>
        </ons-list-item>
        <ons-list-item>
            <div class="left">
                Newest Valetudo version:
            </div>
            <div class="right" id="info_newest_valetudo_version">
                <ons-button modifier="large" class="button-margin" onclick="checkNewValetudoVersion();">Check for new Valetudo Version</ons-button>
            </div>
        </ons-list-item>
        <ons-list-item id="info_valetudo_update_url_list" style="display: none;">
            <div class="left">
                Newest Version URL:
            </div>
            <div class="right" id="info_valetudo_update_url">
                ???
            </div>
        </ons-list-item>
        <ons-list-item>
            <div class="center" id="robot-log-controls">
                <ons-button id="settings-info-valetudo-get-log" class="button-margin" onclick="getValetudoLog();">Refresh Log</ons-button>
                <ons-button id="settings-info-valetudo-loglevel-button" class="button-margin" onclick="handleLoglevelButton()" disabled>Unknown log level</ons-button>
            </div>
        </ons-list-item>
        <ons-list-item>
            <label class="right" style="width:100%">
                <ons-row>
                    <ons-col>
                        <textarea class="textarea" id="settings-info-valetudo-log" rows="20" readonly></textarea>
                    </ons-col>
                </ons-row>
            </label>
        </ons-list-item>
    </ons-list>


    <script>
      {
        let s = document.createElement('script');
        s.src = "settings-info.js";
        s.type = "module";
        s.crossOrigin = "use-credentials";
        ons.getScriptPage().appendChild(s);

        ons.getScriptPage().onShow = function() {
            updateSettingsInfoPage();
            initValetudoLog();
        };
      }
    </script>
    <style>
        #robot-log-controls > ons-button {
            margin: 5px;
        }

        #settings-info-valetudo-log {
            font-family: monospace, sans-serif;
            width: 100%;
        }
    </style>
</ons-page>
